{"ast":null,"code":"var _jsxFileName = \"/Users/rachelpham/Desktop/PROJECTS/New-Moodify/src/App.js\",\n  _s = $RefreshSig$();\nimport logo from './logo.svg';\n// import './App.css';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './index.css';\nimport Container from 'react-bootstrap/Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const CLIENT_ID = \"9eab633783f745678bba09700bdd6d7a\";\n  const REDIRECT_URI = \"http://localhost:3000\";\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\n  const RESPONSE_TYPE = \"token\";\n  const SCOPES = [\"user-top-read\", \"user-read-currently-playing\", \"user-read-playback-state\", \"user-modify-playback-state\", \"user-read-recently-played\"];\n  const [token, setToken] = useState(\"\");\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [artists, setTopArtists] = useState([]);\n  const [animalInput, setAnimalInput] = useState(\"\");\n  const [result, setResult] = useState();\n  useEffect(() => {\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem(\"token\");\n    if (!token && hash) {\n      token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1];\n      window.location.hash = \"\";\n      window.localStorage.setItem(\"token\", token);\n    }\n    setToken(token);\n  }, []);\n  const login = () => {\n    // Handle any login logic or redirection here\n    window.location.href = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&scope=${SCOPES.join(\"%20\")}&response_type=${RESPONSE_TYPE}`;\n  };\n  const logout = () => {\n    setToken(\"\");\n    window.localStorage.removeItem(\"token\");\n  };\n\n  // const searchArtists = async (e) => {\n  //   e.preventDefault()\n  //   const {data} = await axios.get(\"https://api.spotify.com/v1/search\", {\n  //       headers: {\n  //           Authorization: `Bearer ${token}`\n  //       },\n  //       params: {\n  //           q: searchKey,\n  //           type: \"artist\"\n  //       }\n  //   })\n\n  //   setArtists(data.artists.items)\n  // }\n\n  // Get user's top artists to use in ChatGPT model\n  const submitForm = async e => {\n    e.preventDefault();\n    try {\n      // Second API call\n      // const {artist_data} = await axios.get(\"https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=5\", {\n      //   headers: {\n      //       Authorization: `Bearer ${token}`\n      //   }\n      // });\n      const response = await fetch(\"/api/generate\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          animal: animalInput\n        })\n      });\n      const data = await response.json();\n      if (response.status !== 200) {\n        throw data.error || new Error(`Request failed with status ${response.status}`);\n      }\n\n      // console.log(artist_data);\n      // setTopArtists(artist_data.items);\n\n      setResult(data.result);\n      setAnimalInput(\"\");\n    } catch (error) {\n      console.error(error);\n      alert(error.message);\n    }\n  };\n\n  // const renderArtists = () => {\n  //   return artists.map(artist => (\n  //       <div key={artist.id}>\n  //           {artist.images.length ? <img width={\"100%\"} src={artist.images[0].url} alt=\"\"/> : <div>No Image</div>}\n  //           {artist.name}\n  //       </div>\n  //   ))\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"root\",\n    className: \"flex flex-col min-h-screen bg-gradient-to-b from-emerald-800 to-emerald-50\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-white text-center text-5xl font-medium pt-12\",\n        children: \"Moodify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), !token ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mt-40\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-slate-700 hover:bg-blue-700 text-white text-1xl py-3 px-10 rounded-full\",\n          onClick: login,\n          children: \"Login with Spotify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-slate-700 hover:bg-blue-700 text-white py-2 px-4 rounded-full\",\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), token ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitForm,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"animal\",\n            placeholder: \"Enter an animal\",\n            value: animalInput,\n            onChange: e => setAnimalInput(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Generate names\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: result\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"FXXN8T9QLmS25r/1JtdfO/vufAs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","useEffect","useState","axios","Container","jsxDEV","_jsxDEV","App","_s","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","SCOPES","token","setToken","searchKey","setSearchKey","artists","setTopArtists","animalInput","setAnimalInput","result","setResult","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","login","href","join","logout","removeItem","submitForm","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","animal","data","json","status","error","Error","console","alert","message","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","name","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/rachelpham/Desktop/PROJECTS/New-Moodify/src/App.js"],"sourcesContent":["import logo from './logo.svg';\n// import './App.css';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './index.css';\nimport Container from 'react-bootstrap/Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  const CLIENT_ID = \"9eab633783f745678bba09700bdd6d7a\"\n  const REDIRECT_URI = \"http://localhost:3000\"\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\n  const RESPONSE_TYPE = \"token\"\n  const SCOPES = [\n    \"user-top-read\",\n    \"user-read-currently-playing\",\n    \"user-read-playback-state\",\n    \"user-modify-playback-state\",\n    \"user-read-recently-played\"\n  ]\n\n  const [token, setToken] = useState(\"\")\n  const [searchKey, setSearchKey] = useState(\"\")\n  const [artists, setTopArtists] = useState([])\n  const [animalInput, setAnimalInput] = useState(\"\");\n  const [result, setResult] = useState();\n\n  useEffect(() => {\n      const hash = window.location.hash\n      let token = window.localStorage.getItem(\"token\")\n\n      if (!token && hash) {\n          token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n\n          window.location.hash = \"\"\n          window.localStorage.setItem(\"token\", token)\n      }\n\n      setToken(token)\n\n  }, [])\n\n  const login = () => {\n    // Handle any login logic or redirection here\n    window.location.href = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&scope=${SCOPES.join(\"%20\")}&response_type=${RESPONSE_TYPE}`;\n\n  };\n\n  const logout = () => {\n    setToken(\"\")\n    window.localStorage.removeItem(\"token\")\n  }\n\n  // const searchArtists = async (e) => {\n  //   e.preventDefault()\n  //   const {data} = await axios.get(\"https://api.spotify.com/v1/search\", {\n  //       headers: {\n  //           Authorization: `Bearer ${token}`\n  //       },\n  //       params: {\n  //           q: searchKey,\n  //           type: \"artist\"\n  //       }\n  //   })\n\n  //   setArtists(data.artists.items)\n  // }\n\n  // Get user's top artists to use in ChatGPT model\n  const submitForm = async (e) => {\n    e.preventDefault()\n    try {\n      // Second API call\n      // const {artist_data} = await axios.get(\"https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=5\", {\n      //   headers: {\n      //       Authorization: `Bearer ${token}`\n      //   }\n      // });\n      const response = await fetch(\"/api/generate\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ animal: animalInput }),\n      });\n\n      const data = await response.json();\n      if (response.status !== 200) {\n        throw data.error || new Error(`Request failed with status ${response.status}`);\n      }\n\n      // console.log(artist_data);\n      // setTopArtists(artist_data.items);\n\n      setResult(data.result);\n      setAnimalInput(\"\");\n\n    } catch(error) {\n      console.error(error);\n      alert(error.message);\n    }\n\n  }\n\n\n  // const renderArtists = () => {\n  //   return artists.map(artist => (\n  //       <div key={artist.id}>\n  //           {artist.images.length ? <img width={\"100%\"} src={artist.images[0].url} alt=\"\"/> : <div>No Image</div>}\n  //           {artist.name}\n  //       </div>\n  //   ))\n  // }\n\n  return (\n    <div id=\"root\" className=\"flex flex-col min-h-screen bg-gradient-to-b from-emerald-800 to-emerald-50\">\n      <Container>\n        <h1 className=\"text-white text-center text-5xl font-medium pt-12\">Moodify</h1>\n        {!token ?\n          <div className=\"flex justify-center mt-40\">\n            <button className=\"bg-slate-700 hover:bg-blue-700 text-white text-1xl py-3 px-10 rounded-full\" onClick={login}>Login with Spotify</button>\n          </div>\n        : <button className=\"bg-slate-700 hover:bg-blue-700 text-white py-2 px-4 rounded-full\" onClick={logout}>Logout</button>}\n\n          {token ?\n            <div>\n            {/* <form onSubmit={searchArtists}>\n              <input type=\"text\" onChange={e => setSearchKey(e.target.value)}/>\n              <button type={\"submit\"}>Search</button>\n              {renderArtists()}\n            </form> */}\n            <form onSubmit={submitForm}>\n              <input\n                type=\"text\"\n                name=\"animal\"\n                placeholder=\"Enter an animal\"\n                value={animalInput}\n                onChange={(e) => setAnimalInput(e.target.value)}\n              />\n              <input type=\"submit\" value=\"Generate names\" />\n              <div>{result}</div>\n            </form>\n            {/* <form onSubmit>\n              <input type=\"text\" placeholder=\"Enter a Prompt\" value={animalInput} onChange={e => setAnimalInput(e.target.value)}/>\n              <input type=\"submit\" value=\"Generate names\" />\n              <button onClick={submitForm}>SUBMIT</button>\n              {renderArtists()}\n            </form> */}\n            </div>   \n            : null    \n          }\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}